/*
За квадратна матрица А со димензии n x n, од стандарден влез се внесува бројот n (n > 2) и елементите на матрицата (реални броеви).
Нека X e збирот од елементите под главната дијагонала во матрицата А. Нека Y е збирот од елементите под споредната дијагонала во матрицата А.
Да се креира нова матрица B на следниот начин:
сите елементи од главната дијагонала во матрицата B треба да имаат вредност X
сите елементи од споредната дијагонала во матрицата B треба да имаат вредност Y
ако даден елемент припаѓа и на главната и на споредната дијагонала во матрицата B, тогаш неговата вредност e X+Y
сите останати елементи во матрицата B имаат вредност 0
Новата матрица B да се испечати на стандарден излез.
*/
#include <stdio.h>
#include <stdlib.h>
#include <ctype.h>
int main()
{
    float a[100][100], b[100][100];
    int n,i,j;

    scanf("%d", &n);
for(i=0; i<n; i++){
    for(j=0; j<n; j++){
        scanf("%f", &a[i][j]);
    }
}


float zbir =0; float zbir1=0;
for(i=0; i<n; i++){
    for(j=0; j<n; j++){
            if(j!=i && i>j){
                    zbir+=a[i][j];
            }
            if(i+j>=n){
                zbir1+=a[i][j];
            }

    }
}

for(i=0; i<n; i++){
    for(j=0; j<n; j++){
     b[i][j]=0;   // stavi gi site brojki na nula
    }
}
for(i=0; i<n; i++){
    for(j=0; j<n; j++){
            if(i==j){
            b[i][j]=zbir;         //glavna dijagonala == 14
            }

    }
}
for(i=0, j=n-1; j>0, i<n; j--, i++){
        if(b[i][j]==zbir){
            b[i][j]=zbir1+zbir;
        } else {
            b[i][j]=zbir1;
            } //sporedna dijagonala==38
}

for(i=0; i<n; i++){
    for(j=0; j<n; j++){
       printf("%.1f ", b[i][j]);
    }
    printf("\n");
}
    return 0;
}
